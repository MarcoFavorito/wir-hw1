<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><title>LDSP</title><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></head><body bgcolor="#FFFFFF" text="#000000"><h1>LDSP</h1><table width="100%" border="0" cellspacing="1" cellpadding="2">  <tr>     <td bgcolor="#E6E6E6"><b>Description</b></td>    <td bgcolor="#E6E6E6"> Dynamic all pairs shortest paths data structure</td>  </tr>  <tr>    <td bgcolor="#E6E6E6"><b>Files</b></td>    <td bgcolor="#E6E6E6"><tt>&lt;LDSP.h, LDSP.c&gt;</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><b>Author</b></td>    <td bgcolor="#E6E6E6"><a href="http://www.dis.uniroma1.it/%7Edemetres">Camil       Demetrescu </a></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><b>Created</b></td>    <td bgcolor="#E6E6E6">Oct 30, 2002</td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><b>Last updated</b></td>    <td bgcolor="#E6E6E6">Jul 1, 2003</td>  </tr></table><p>&nbsp;</p><h2>Contents</h2><ul>  <li><a href="#intro">Introduction</a> </li>  <li><a href="#interface">Interface</a></li>  <li><a href="#apiref">API reference</a></li>  <li><a href="#history">Revision history</a></li></ul><hr><h2><b><a name="intro"></a>Introduction</b></h2><p>The component maintains information about all pairs shortest paths in a weighted   directed graph subject to a sequence of edge weight updates. The current implementation   of component <tt>LDSP</tt> is based on the Potentially Uniform Paths Algorithm   [C.Demetrescu and G.F.Italiano, &quot;A New Approach to Dynamic All Pairs Shortest   Paths&quot;, in Proceedings of the 35th Annual ACM Symposium on Theory of Computing   (STOC'03), San Diego, California, June 2003. Also <a href="http://www.brics.dk/cgi-alcomft/db?state=reports&id=ALCOMFT-TR-02-92">Technical   Report ALCOM-FT TR-02-92</a>]. <p><hr><h2><b><a name="interface"></a>Interface</b></h2><p> <table width="100%" border="0" cellspacing="1" cellpadding="4">  <tr>     <td bgcolor="#BBBBBB" colspan="2">       <h4>Constants</h4>    </td>  </tr>  <tr>     <td bgcolor="#E6E6E6" colspan="2">       <pre>LDSP_IDLDSP_INFTYLDSP_NILLDSP_BAD_PARAMETERS</pre>    </td>  </tr></table><p><table width="100%" border="0" cellspacing="1" cellpadding="4">  <tr>     <td bgcolor="#BBBBBB" colspan="2">       <h4>Types</h4>    </td>  </tr>  <tr>     <td bgcolor="#E6E6E6" colspan="2">       <pre>LDSPLDSP_TSetup</pre>    </td>  </tr></table><p><table width="100%" border="0" cellspacing="1" cellpadding="4">  <tr>     <td bgcolor="#BBBBBB" colspan="2">       <h4>Functions</h4>    </td>  </tr>  <tr>     <td bgcolor="#E6E6E6" colspan="2">       <pre>LDSP*        LDSP_New            (LGraph* inGraph, LEdgeInfo* inEdgeWeights);LDSP*        LDSP_NewEmpty       (ui2 inNumVertices);void         LDSP_Delete         (LDSP** AThis);ui2          LDSP_GetNumVertices (LDSP* This);ui4          LDSP_GetEdgeWeight  (LDSP* This, ui2 inU, ui2 inV);void         LDSP_UpdateEdge     (LDSP* This, ui2 inU, ui2 inV, ui4 inW);ui4          LDSP_GetDist        (LDSP* This, ui2 inX, ui2 inY);ui2          LDSP_GetLWit        (LDSP* This, ui2 inX, ui2 inY);ui2          LDSP_GetRWit        (LDSP* This, ui2 inX, ui2 inY);LDSP_TSetup  LDSP_GetConfig      (LDSP* This);void         LDSP_SetConfig      (LDSP* This, LDSP_TSetup inSetup);ui4          LDSP_GetUsedMem     (LDSP* This);LDSP_TStat   LDSP_GetStatistics  (LDSP* This);void         LDSP_Dump           (LDSP* This);</pre>    </td>  </tr></table><p> <hr><h2><a name="apiref"></a>API Reference</h2><p><table cellpadding="4" cellspacing="1" width="100%">  <tr>     <td bgcolor="#E6E6E6"><b>Function</b></td>    <td bgcolor="#E6E6E6"><b>Arguments</b></td>    <td bgcolor="#E6E6E6"><b>Description</b></td>    <td bgcolor="#E6E6E6"><b>Returns</b></td>    <td bgcolor="#E6E6E6"><b>Throws</b></td>  </tr>  <tr>     <td bgcolor="#E6E6E6" rowspan="2"><tt><font color="#FF0000">New</font></tt></td>    <td bgcolor="#E6E6E6"><tt>LGraph* inGraph</tt></td>    <td bgcolor="#E6E6E6" rowspan="2">Create object initialized with a graph specified       by <tt>inGraph</tt>, with edge weights given in <tt>inEdgeWeights</tt>.       The input graph can have at most 65536 vertices, which are maintained in       the object according to the indices given by <tt>LGraph_GetNodeIndex</tt>.       <font color="#FF0000">Caller is responsible of dellocating the created object       using <tt>LDSP_Delete</tt>.</font></td>    <td bgcolor="#E6E6E6" rowspan="2">       <p><tt>LDSP*</tt></p>      <p>address of the newly created object</p>    </td>    <td bgcolor="#E6E6E6" rowspan="2"><tt>-</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>LEdgeInfo* inEdgeWeights</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt><font color="#FF0000">NewEmpty</font></tt></td>    <td bgcolor="#E6E6E6"><tt>ui2 inNumVertices</tt></td>    <td bgcolor="#E6E6E6">Create object containing a graph with <tt>inNumVertices</tt>       vertices and no edges. <tt>inNumVertices</tt> must be in the range [0..65535].       <font color="#FF0000">Caller is responsible of dellocating the created object       using <tt>LDSP_Delete</tt>.</font></td>    <td bgcolor="#E6E6E6">       <p><tt>LDSP*</tt></p>      <p>address of the newly created object</p>    </td>    <td bgcolor="#E6E6E6"><tt>-</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>Delete</tt></td>    <td bgcolor="#E6E6E6"><tt>LDSP** ThisA</tt></td>    <td bgcolor="#E6E6E6">Release object pointed to by <tt>*ThisA</tt>. Pointer       <tt>*ThisA</tt> is set to <tt>NULL</tt>.</td>    <td bgcolor="#E6E6E6"><tt>void</tt></td>    <td bgcolor="#E6E6E6"><tt>-</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt> GetNumVertices</tt></td>    <td bgcolor="#E6E6E6"><tt>LDSP* This</tt></td>    <td bgcolor="#E6E6E6">Return the number of vertices in the graph maintained       by <tt>This</tt> as initially specified by <tt>New</tt>.</td>    <td bgcolor="#E6E6E6">       <p><tt>ui2</tt></p>      <p>number of vertices in the graph</p>    </td>    <td bgcolor="#E6E6E6"><tt>-</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6" rowspan="3"><tt>GetEdgeWeight</tt></td>    <td bgcolor="#E6E6E6"><tt>LDSP* This</tt></td>    <td bgcolor="#E6E6E6" rowspan="3">Return the weight of edge (<tt>inU</tt>,<tt>inV</tt>)       in the graph maintained by <tt></tt> <tt>This</tt>. Vertices <tt>inU</tt>       and <tt>inV</tt> should be in the range [0..<tt>GetNumVertices</tt>-1].</td>    <td bgcolor="#E6E6E6" rowspan="3">       <p><tt>ui4</tt></p>      <p>weight of edge (<tt>inU</tt>,<tt>inV</tt>) in the graph</p>    </td>    <td bgcolor="#E6E6E6" rowspan="3"><tt>LDSP_BAD_PARAMETERS</tt> if <tt>inU</tt>       and <tt>inV</tt> are not in the range [0..<tt>GetNumVertices</tt>-1].</td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>ui2 inU</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>ui2 inV</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6" rowspan="4"><tt>UpdateEdge</tt></td>    <td bgcolor="#E6E6E6"><tt>LDSP* This</tt></td>    <td bgcolor="#E6E6E6" rowspan="4">Updates the weight of edge (<tt>inU</tt>,<tt>inV</tt>)       in the graph maintained by <tt></tt> <tt>This</tt> to the new non-negative       value value <tt>inW</tt>, which has to be in the range [0,<tt>LDSP_INFTY</tt>].       Vertex indices <tt>inU</tt> and <tt>inV</tt> must be in the range [0..<tt>GetNumVertices</tt>-1].<br>      <br>      Notice: setting <tt>inW</tt> to <tt>LDSP_INFTY</tt> corresponds to removing       an edge in the underlying graph.</td>    <td bgcolor="#E6E6E6" rowspan="4"><tt>void</tt></td>    <td bgcolor="#E6E6E6" rowspan="4"><tt>LDSP_BAD_PARAMETERS</tt> if <tt>inU</tt>       and <tt>inV</tt> are not in the range [0..<tt>GetNumVertices</tt>-1] or       <tt>inW</tt> is negative.</td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>ui2 inU</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>ui2 inV</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>ui4 inW</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6" rowspan="3"><tt>GetDist</tt></td>    <td bgcolor="#E6E6E6"><tt>LDSP* This</tt></td>    <td bgcolor="#E6E6E6" rowspan="3">Return the distance between vertex <tt>inX</tt>       and vertex <tt>inY</tt> in the graph maintained by <tt></tt> <tt>This</tt>.</td>    <td bgcolor="#E6E6E6" rowspan="3">       <p><tt>ui4</tt></p>      <p>distance between vertex <tt>inX</tt> and vertex <tt>inY</tt> in the graph</p>    </td>    <td bgcolor="#E6E6E6" rowspan="3"><tt>LDSP_BAD_PARAMETERS</tt> if <tt>inX</tt>       and <tt>inY</tt> are not in the range [0..<tt>GetNumVertices</tt>-1].</td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>ui2 inX</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>ui2 inY</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6" rowspan="3"><tt>GetLWit</tt></td>    <td bgcolor="#E6E6E6"><tt>LDSP* This</tt></td>    <td bgcolor="#E6E6E6" rowspan="3">Return vertex successor of <tt>inX</tt>       in the shortest path between <tt>inX</tt> and <tt>inY</tt>. If <tt>inY</tt>       is unreachable from <tt>inX</tt>, then <tt>LDSP_NIL</tt> is returned.</td>    <td bgcolor="#E6E6E6" rowspan="3">       <p><tt>ui2</tt></p>      <p>leftmost shortest path witness for pair (<tt>inX</tt>, <tt>inY</tt>),         or <tt>LDSP_NIL</tt> if no such shortest path exists</p>    </td>    <td bgcolor="#E6E6E6" rowspan="3"><tt>LDSP_BAD_PARAMETERS</tt> if <tt>inX</tt>       and <tt>inY</tt> are not in the range [0..<tt>GetNumVertices</tt>-1].</td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>ui2 inX</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>ui2 inY</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6" rowspan="3"><tt>GetRWit</tt></td>    <td bgcolor="#E6E6E6"><tt>LDSP* This</tt></td>    <td bgcolor="#E6E6E6" rowspan="3">Return vertex predecessor of <tt>inY</tt>       in the shortest path between <tt>inX</tt> and <tt>inY</tt>. If <tt>inY</tt>       is unreachable from <tt>inX</tt>, then <tt>LDSP_NIL</tt> is returned.</td>    <td bgcolor="#E6E6E6" rowspan="3">       <p><tt>ui2</tt></p>      <p>rightmost shortest path witness for pair (<tt>inX</tt>, <tt>inY</tt>),         or <tt>LDSP_NIL</tt> if no such shortest path exists</p>    </td>    <td bgcolor="#E6E6E6" rowspan="3"><tt>LDSP_BAD_PARAMETERS</tt> if <tt>inX</tt>       and <tt>inY</tt> are not in the range [0..<tt>GetNumVertices</tt>-1].</td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>ui2 inX</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>ui2 inY</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>GetConfig</tt></td>    <td bgcolor="#E6E6E6"><tt>LDSP* This</tt></td>    <td bgcolor="#E6E6E6">       <p> Return a struct with the internal current object configuration (see         <tt>SetConfig</tt> for the details of struct <tt>LDSP_TSetup</tt>).</p>      </td>    <td bgcolor="#E6E6E6">       <p><tt>LDSP_TSetup</tt></p>      <p>current object configuration<tt></tt></p>    </td>    <td bgcolor="#E6E6E6"><tt>-</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6" rowspan="2"><tt>SetConfig</tt></td>    <td bgcolor="#E6E6E6"><tt>LDSP* This</tt></td>    <td bgcolor="#E6E6E6" rowspan="2">       <p>Change the internal object configuration to the new parameters specified         by <tt>inSetup</tt> as follows:</p>      <table width="100%" border="0" cellspacing="1" cellpadding="1">        <tr bgcolor="#FFFFFF">           <td><tt> f8 mThreshold<br>            </tt></td>          <td>smoothing threshold in [0,1]. If the graph is subject to evenly             mixed sequences of increase/decrease edge eight updates, 0 is a good             choice. If there are long subsequences of decrease operations, use             0.7 (default)</td>        </tr>        <tr bgcolor="#FFFFFF">           <td><tt>f8 mCorrection</tt></td>          <td>smoothing threshold correction (usually <tt>mThreshold-0.1</tt>             or 0 if <tt>mThreshold</tt> is 0).</td>        </tr>        <tr bgcolor="#FFFFFF">           <td><tt>ui4 mStep</tt></td>          <td># operations between original update and first dummy update of an             edge (default = 100)</td>        </tr>        <tr bgcolor="#FFFFFF">           <td><tt>ui4 mRatio</tt></td>          <td>smoothing exponential rate (default = 10)</td>        </tr>      </table>    </td>    <td bgcolor="#E6E6E6" rowspan="2">       <tt>void</tt>    </td>    <td bgcolor="#E6E6E6" rowspan="2"><tt>-</tt></td>  </tr>  <tr>    <td bgcolor="#E6E6E6"><tt>LDSP_TSetup inSetup</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>GetUsedMem</tt></td>    <td bgcolor="#E6E6E6"><tt>LDSP* This</tt></td>    <td bgcolor="#E6E6E6">       <p>Return the total number of bytes used to maintain the data structure.</p>    </td>    <td bgcolor="#E6E6E6">       <p><tt>ui4</tt></p>      <p>bytes used to maintain object <tt>This</tt></p>    </td>    <td bgcolor="#E6E6E6"><tt>-</tt></td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>GetStatistics</tt> </td>    <td bgcolor="#E6E6E6"><tt>LDSP* This</tt></td>    <td bgcolor="#E6E6E6">       <p>Return a struct with the following statistics (all <tt>ui4</tt> values)         about the object:</p>      <table width="100%" border="0" cellspacing="1" cellpadding="1">        <tr bgcolor="#FFFFFF">           <td><code>mPUP</code></td>          <td># potentially uniform paths</td>        </tr>        <tr bgcolor="#FFFFFF">           <td><code>mUP</code></td>          <td># uniform paths</td>        </tr>        <tr bgcolor="#FFFFFF">           <td><code>mHSP</code></td>          <td># historical shortest paths (mSP+mZombie)</td>        </tr>        <tr bgcolor="#FFFFFF">           <td><code>mSP</code></td>          <td># shortest paths</td>        </tr>        <tr bgcolor="#FFFFFF">           <td><code>mZombie</code></td>          <td># zombies</td>        </tr>        <tr bgcolor="#FFFFFF">           <td><code>mFree</code></td>          <td># free path slots in the data structure</td>        </tr>        <tr bgcolor="#FFFFFF">           <td><code>mAffected</code></td>          <td># node pairs with distance changed by the last update</td>        </tr>        <tr bgcolor="#FFFFFF">           <td><code>mNewPUP</code></td>          <td># potentially uniform paths created during the last update</td>        </tr>        <tr bgcolor="#FFFFFF">           <td><code>mDelPUP</code></td>          <td># potentially uniform paths deleted during the last update</td>        </tr>        <tr bgcolor="#FFFFFF">           <td><code>mDummyUpdates</code></td>          <td>total # of performed dummy updates </td>        </tr>        <tr bgcolor="#FFFFFF">           <td><code>mSkipped</code></td>          <td>total # dummy updates skipped using adaptive smoothing strategy</td>        </tr>      </table>    </td>    <td bgcolor="#E6E6E6">       <p>LDSP_TStat </p>      <p>object statistics</p>    </td>    <td bgcolor="#E6E6E6">&nbsp;</td>  </tr>  <tr>     <td bgcolor="#E6E6E6"><tt>Dump</tt></td>    <td bgcolor="#E6E6E6"><tt>LDSP* This</tt></td>    <td bgcolor="#E6E6E6">Print information about <tt>LDSP</tt> object <tt>This</tt>.       <b>(Debug Mode)</b></td>    <td bgcolor="#E6E6E6"><tt>void</tt></td>    <td bgcolor="#E6E6E6"><tt>-</tt></td>  </tr></table><p><hr><h2><a name="history"></a>Revision history</h2><ul>  <li> Oct 30, 2002: created.</li>  <li>Nov 5, 2002: changed.</li>  <li>May 20, 2003: news.</li></ul><hr><p align="right"><font size="-1">Last updated: Jul 1, 2003</font> </body></html>