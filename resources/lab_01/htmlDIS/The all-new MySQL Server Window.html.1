<!-- 20209 --><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head> <title>The all-new MySQL Server Windows Installer</title> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> <link rel="stylesheet" type="text/css" media="screen" href="/common/css/screen.css" /> <link rel="stylesheet" type="text/css" media="projection" href="/common/css/screen.css" /> <link rel="stylesheet" type="text/css" media="print" href="/common/css/print.css" />   <link rel="shortcut icon" href="/common/favicon.ico" /></head><body class="dev"><!--UdmComment--><div id="container"><div id="header"></div><div id="logo"><a href="http://www.mysql.com/"><img src="/common/logos/mysql_100x52-64.gif" width="100" height="52" alt="MySQL" /></a></div><div id="tag"><p>:: DEVELOPER ZONE</p></div><div id="head"> <div id="search">  <div id="searchbox">   <form action="http://www.mysql.com/search/" style="float:none;" method="get">    <input class="frm" type="text" name="q" size="20" maxlength="255" />    <input type="hidden" name="charset" value="iso-8859-1" />    <input class="submit2" type="submit" value="Search" />   </form>  </div>  <div class="toplogin">   <p class="s"><a href="http://www.mysql.com/login.php?dest=http%3A%2F%2Fdev.mysql.com%2Ftech-resources%2Farticles%2F4.1%2Finstaller.html">Login</a> / <a href="http://www.mysql.com/register.php">Register</a></p>  </div>  <div style="clear: both"></div> </div></div><div id="nav"> <div id="tabs"><ul>  <li class="start"><a href="http://www.mysql.com/">MySQL.com</a></li>  <li class="devel"><a href="http://dev.mysql.com/">Developer Zone</a></li>  <li class="solut"><a href="http://solutions.mysql.com/">Partners</a></li>  <li class="oshop"><a href="https://shop.mysql.com/">Online Shop</a></li> </ul></div> <div style="clear: both"></div> <div id="menu">  <ul>   <li><a href="/downloads/">Downloads</a></li><li><a href="/doc/">Documentation</a></li><li><a href="http://forums.mysql.com/">Forums</a></li><li><a href="http://lists.mysql.com/">Lists</a></li><li><a href="http://bugs.mysql.com/">Bugs</a></li><li><a href="http://www.mysql.com/news-and-events/events/">Events</a></li><li><a href="/user-groups/">User Groups</a></li><li><a href="/support/">Developer Support</a></li><li><a href="/tech-resources/"><strong>Tech Resources</strong></a></li><li><a href="/books/">Books</a></li>  </ul> </div><div id="subfld"><h1>The all-new MySQL Server Windows Installer</h1></div><div id="submenu"><ul><li><a href="/tech-resources/">Overview</a></li><li><a href="/tech-resources/articles/"><strong>Articles</strong></a></li><li><a href="/tech-resources/news/">News</a></li><li><a href="/tech-resources/quickpolls/">Quick Polls</a></li><li><a href="/tech-resources/features.html">Feature Comparison</a></li><li><a href="/tech-resources/interviews/">Interviews</a></li></ul></div><!--/UdmComment--><div style="clear: both"></div><div id="page"> <div class="col66">  <div class="indent"><p><em>This is the third of our on-going series of articles that explain somethe new features in <a href="/downloads/mysql/4.1.html">MySQL 4.1</a>, which asof this writing is in the gamma phase of its development cycle, on the way to aproduction-ready release in the near future.</em></p><p class="byline">By Michael G. Zinner</p><p>A prominent new feature for Windows users is the new Windows installer thatis included in 4.1.5 and later. The new installer makes use of the WindowsInstaller (MSI) and includes a new MySQL Server Instance Configuration Wizardthat can be used to generate an optimized server configuration and to applycore security settings.</p><h2>Background Info - MSI Setup and WiX</h2><p>Microsoft has included an improved version of their Microsoft WindowsInstaller (MSI) in the recent versions of Windows. Using the MSI has become thede-facto standard for application installations on Windows 2000 and Windows XP.The new MySQL server installer now also makes use of this technology to providea smoother and more flexible installation progress.</p><p>Further, Microsoft has introduced the WiX (Windows Installer XML) toolsetrecently.  It is the first, highly acknowledged Open Source project fromMicrosoft. We switched to WiX for two reasons. First, it is an Open Sourceproject and second, it allows us to handle the complete Windows engineeringprocess in a flexible way with scripts.</p><h2>The New "Essential" Package</h2><p>For this reason we can now offer a new package as a complement to ourtraditional packages. It is called the "essential" package (e.g.<code>mysql-4.1.7-essential-win.msi</code>) since it features only theessential components one needs to run the MySQL server on a Windows machine.These include the optimized server binaries for Windows 9x/ME and Windows NTbased systems, the command line tools, and the C developer files without debuginformation.</p><p>This "essential" package is now becoming the recommended package because ithas a reduced file size and contains everything needed in a standard setup.</p><p>Let me summarize all packages for Windows here, I will take the 4.1.5release for example:</p><dl> <dt><code>mysql-4.1.7-win-noinstall.zip</code></dt> <dd>This is a ZIP file that simply contains all binary files and can be extracted to <code>C:\</code> or any other directory. This requires manual configuration. No changes have been made to this package.</dd> <dt><code>mysql-4.1.7-win.zip</code></dt> <dd>This ZIP file contains the new installer as well as the Server Instance Configuration Wizard.</dd> <dt><code>mysql-4.1.7-essential-win.msi</code></dt> <dd>This is a MSI file that can be executed by double-click. It contains only optimized server binaries, the command line tools, and the C developer files without debug information.</dd></dl><h2>New Features</h2><p>When you look at the new features you will find that some of the defaultbehaviour and default values have changed. We know that this means you have tolearn something new and it might also require changes to your currentsystem.</p><p>If you are having a problem with any of the new features, please note thatyou can still do the MySQL Server installation the way you are used to. The"noinstall" ZIP file has not been changed and you can ignore the new featuresand only do a basic installation to <code>C:\</code>.</p><p>We have applied the changes to make the MySQL server conform to Microsoftguidelines and to make it behave more like what a Windows user expects from atypical Windows application.</p><h2>New Default Install Location</h2><p>When the default installation path is not changed the server is nowinstalled to <code>C:\Program Files\MySQL\MySQL Server 4.1</code>. This is thenew recommended location for the MySQL server.</p><p>The idea behind this is to have all MySQL products in the <code>C:\ProgramFiles\MySQL</code> directory. A typical MySQL setup on a developer machine willlook this way:</p><pre>C:\Program Files\MySQL\MySQL Server 4.1C:\Program Files\MySQL\MySQL Server 5.0C:\Program Files\MySQL\MySQL Administrator 1.0C:\Program Files\MySQL\MySQL Query Browser 1.0</pre><h2>New Start Menu Entries</h2><p>After a standard installation has been completed you will find three newentries in the Start Menu under "Start &gt; All Programs &gt; MySQL &gt; MySQLServer 4.1".</p><p>"MySQL Command Line Shell" calls the MySQL command line shell and tries toconnect as root user. You will be prompted for the password that you can set inthe "Security Options" dialog in the Configuration Wizard. Please not that thisonly works for servers running on port 3306.</p><p>"MySQL Server Instance Config Wizard" will launch the Wizard. Use thisoption when you did not select to configure the server directly after theinstallation or to re-configure the server.</p><p>"MySQL Documentation" opens the MySQL HTML documentation. Please note thatthis shortcut is not installed in the "essential" package since it does notcontain these files. You should use the <ahref="/doc/mysql/en/index.html">online documentation</a> instead.</p><h2>New Registry Key Entries</h2><p>The MySQL server setup always has created a key in the Windows registryunder <code>HKEY_LOCAL_MACHINE\SOFTWARE\MySQL AB</code>. It was called<code>MySQL Servers and Clients 4.1.3b-beta</code> for example.</p><p>The new installer now creates a key called <code>MySQL Server 4.1</code>. Itnow contains two string values, Location and Version. The Location stringcontains the installation directory. In case of an default installation on aGerman Windows machine it will contain <code>C:\Programme\MySQL\MySQL Server4.1\</code>. The Version string contains the release number, <code>4.1.5</code>for the MySQL Server 4.1.5.</p><p>Please note that these registry keys are just used for additionalinformation. They are not required to run the server and when using the<code>noinstall</code> ZIP they will not be created. These are used by theServer Instance Configuration Wizard and 3rd party applications can check forthese values before doing a complete scan of the hard disk.</p><h2>New Upgrade Feature</h2><p>Starting with the installer included in 4.1.5 it is possible to use theupgrade feature of MSI. That means you do not have to de-install the MySQL oldserver before installing a new release.</p><p>It is important to note that this only works for servers that have the samemajor and minor version number, e.g. 4.1.5 can be upgraded to 4.1.6 becausethey are both 4.1 releases. The 5.0 server will be installed in its owndirectory.</p><p>Please Note:</p><ul> <li>When you are upgrading from 4.1.4 or earlier releases you should do an uninstall before installing the new 4.1.5 release, since old releases cannot be upgraded.</li> <li>The server will be stopped before the upgrade. All users will be disconnected. Do not forget to restart the server after the upgrade was finished.</li></ul><h2>The MySQL Server Instance Configuration Wizard</h2><p>Configuring MySQL has always been a challenging task. Although the manualprovided detailed information on how to configure the server and the packagesinclude several template configuration files, it required a lot of time to findthe optimal configuration for each individual machine.</p><p>Therefore we have been working on a Configuration Wizard that can be used togenerate an optimal configuration based on a couple of questions that caneasily answered.</p><p>When you are using the new installer you will notice a checkbox that isshown on the "Setup Complete Successfully" page. This checkbox is labelled"Configure the MySQL Server now" and is checked by default.</p><p>When the checkbox is checked the new MySQL Server Instance ConfigurationWizard will be launched after the installation has been completed successfullyand you press the [Finish] button.</p><h2>How to Use the Configuration Wizard</h2><p>After you have clicked next on the welcome page you can choose which type ofconfiguration you want to do. The "Standard Configuration" should only be usedon machines that do not have a MySQL server installed at the moment since itwill configure the server to use TCP port 3306 which might conflict withexisting servers.</p><p>I will quickly go over the individual pages but as you can see, the optionsand description texts are quite self-explanatory.</p><div style="float: right; margin: 1em; text-align: center;"><a href="server-type.png"><img src="th-server-type.png" width="176" height="135" alt="" /><br />View screenshot</a></div><p>After selecting "Detailed Configuration" and pressing [Next &gt;] you haveto specify which kind of machine this is. This will influence memory, disk andCPU usage. Using "Developer Machine" will assign 12% of the available memory toMySQL which is quite sufficient for development. Selecting "Server Machine"will use 50% which results in a much better performance. Finally, if this is adedicated MySQL server machine and no other server application will run, youshould select "Dedicated MySQL Server Machine". This assigns up to 95% ofavailable memory to the server.</p><div style="float: right; margin: 1em; text-align: center; clear: right;"><a href="database-usage.png"><img src="th-database-usage.png" width="176" height="135" alt="" /><br />View screenshot</a></div><p>On the "Database Usage" dialog you can select which MySQL storage engine youuse the most. People who are new to the MySQL server should use"Multifunctional Database". This will make the transactional InnoDB storageengine the default one and divide the memory between MyISAM and InnoDB.Advanced users can select to only use InnoDB or MyISAM storage engines. Notethat even when you select "Transactional Database Only" you can still useMyISAM tables for logging or temporary tables.</p><p>If you select "Multifunctional Database" or "Transactional Database Only"you can specify the location for the InnoDB table space on the next dialog. Ifyou have specific hard disk you want to use for data storage you can select thedrive and path here. Note that using a Fat32 formatted partition can result inbetter server performance but that this is not as secure as using a standardNTFS partition. People who are new to MySQL should keep the default"Installation Path".</p><p>On the next dialog you can specify how many concurrent connections to theserver you expect. Please note that this does not limit the connections, itonly assigns an optimal amount of memory to each connection.</p><p>In the networking options dialog you should keep the "Enable TCP/IPNetworking" turned on to allow connections other than named pipes, which is aNT based Windows only feature. The port number is important. It specifies theport on which the server should listen for client connections. The default portis 3306. If you already have a MySQL server running on this port you have tochange the port number. When pressing [Next &gt;] the Wizard checks if the portis already in use and warns you if it is already taken.</p><p>If you have to deal with a lot of different languages you should use the"Best Support For Multilingualism" option in the default character set dialog.This will set the default character to UTF8 which allows the storage ofmultilingual texts in the database.</p><p>The Windows Service dialog is only available on Windows NT bases systemslike Windows NT 4.0/2000/XP/2003. To run the MySQL server as a Windows serviceis the recommended way to run the server on Windows. Please note that theservice name, just like the port number, has to be unique. If you already havea service installed with the name "MySQL" you have to choose a different namefor the new service. Note that service names are not case sensitive.</p><div style="float: right; margin: 1em; text-align: center; clear: right;"><a href="security-settings.png"><img src="th-security-settings.png" width="176" height="135" alt="" /><br />View screenshot</a></div><p>The last option dialog is dedicated to security settings. On this dialog youshould set a password for the root account, which has full access to the MySQLserver. After new installation password of the root account is empty, allowingeveryone to access the MySQL server. Another feature that is available after anew installation is an anonymous account that allows guests to connect to theserver. This feature should be turned off for normal MySQL installations.</p><p>After all options have been set, you can press [Execute] on the executionplan dialog. This will setup the new server instance.</p><p>The following steps will be applied:</p><dl> <dt>Prepare Configuration</dt> <dd>All options and required files will be checked.</dd> <dt>Write Configuration File</dt> <dd>The MySQL configuration file (<code>.cnf</code> file) will be generated and stored in the installation directory (e.g. <code>C:\Program Files\MySQL\my.cnf</code>). Please note that Windows hides the file extension <code>.cnf</code>.</dd> <dt>Start Service</dt> <dd>The Wizard installs the Windows service and tries to start up the MySQL server for the first time. If the server startup fails, you can find error logs in the data directory (<code>C:\Program Files\MySQL\data\*.err</code>). You can modify the configuration file according to the error message. But please note that this should not occur.</dd> <dt>Apply Security Settings</dt> <dd>The security settings will be applied if you selected the appropriate options. A TCP/IP connection to the server will be established and the <code>user</code> table in the <code>mysql</code> schema will be updated. If this step can be completed successfully the server has been configured well.</dd></dl><h2>Advanced Features of the Configuration Wizard</h2><p>You can run the Configuration Wizard again at any time to change the currentconfiguration. Use the Start Menu entry "Start &gt; All Programs &gt; MySQL&gt; MySQL Server 4.1 &gt; MySQL Server Instance Config Wizard" to launch theWizard.</p><p>When the Wizard is launched and it finds an existing instance, you canchoose to modify the existing configuration or to remove the instance.</p><p>If you select to modify the configuration you have to answer all questionsagain and set the options as needed.</p><p>Please note that you cannot change the Windows service settings. To changethe settings you have to use MySQL Administrator or remove the instance withWizard and configure it again.</p><h2>De-Installation</h2><p>When de-installing the server, and you have configured a server instancewith the Configuration Wizard before, this instance will be removed. TheWindows service will be removed and the configuration file will be deletedautomatically.</p><p>Please note, that if you want to upgrade to a new release you do not have tode-install the server anymore. The server will be stopped automatically whenyou apply the upgrade. Please note that this will disconnect all connectedusers.</p><h2>Summary</h2><p>The new MySQL Server Windows Installer offers a more flexible way ofinstalling the MySQL server. It offers a convenient way to generate an optimalconfiguration for your MySQL server and makes tasks like upgrading and removaleasy.</p>  </div> </div> <div class="col33"><!--UdmComment--><h3>About the Author</h3><img align="left" hspace="4" src="../mzinner.jpg" width="75" height="87" alt="Michael G. Zinner" /><p>Michael G. Zinner is lead developer of the MySQL GUI team and lives in Vienna, Austria.</p><br class="clear" /><div class="gray1"><hr /></div><div class="bluebox">We are always looking for interesting articlesabout MySQL! Have you written something and would like to it publishedhere? Please contact us via <a href="http://www.mysql.com/company/contact/?topic=community">feedback form &raquo;</a></div><br /><div class="gray1"><hr /></div><div class="promo"><div class="promo5"><p>How would you rate the quality of this article?</p><form method="post" action="/tech-resources/articles/rate.php"><table width="95%"><tr> <td>Poor</td> <td><input type="radio" name="rating" value="1" /></td> <td><input type="radio" name="rating" value="2" /></td> <td><input type="radio" name="rating" value="3" /></td> <td><input type="radio" name="rating" value="4" /></td> <td><input type="radio" name="rating" value="5" /></td> <td><input type="radio" name="rating" value="6" /></td> <td><input type="radio" name="rating" value="7" /></td> <td>Great</td></tr><tr> <td colspan="9" align="center">  <input type="hidden" name="article" value="41installer" />  <input type="hidden" name="page" value="/tech-resources/articles/4.1/installer.html" />  <input type="submit" value="Submit" />  <br />  <a href="/tech-resources/articles/4.1/installer.html?rated=0">View results</a> </td></tr></table></form></div></div>  <div class="orange2"><hr /></div> <div class="bluebox" id="newsletter"> <form style="text-align: center; margin: 0px" method="post" action="http://www.mysql.com/register.php"> <p>Learn about new MySQL releases, technical articles, events and more.<br /><br /><b>Subscribe to the monthly MySQL Newsletter!</b></p> <input type="text" name="email" value="sakila@example.com" /> <input type="hidden" name="newsletter" value="html" /> <br /> <input type="submit" name="submit" value="Subscribe" /> </form> </div><!--/UdmComment--> </div>  <br class="clear" /><!--UdmComment--> <div id="footer">  <p>&copy; 1995-2005 MySQL AB. All rights reserved.</p>  <ul style="list-style: none; background:url('/common/img/sep.png') no-repeat right top;">   <li><a href="http://www.mysql.com/">MySQL.com Home</a></li>   <li><a href="http://www.mysql.com/sitemap.html">Site Map</a></li>   <li><a href="http://www.mysql.com/company/contact/">Contact Us</a></li>   <li><a href="http://www.mysql.com/company/legal/privacy.html">Privacy Policy</a></li>   <li class="last"><a href="http://www.mysql.com/company/legal/trademark.html">Trademark Info</a></li>   <li class="last"><a href="http://www.NoSoftwarePatents.com/"><img src="/common/img/nswpat80x15.gif" width="80" height="15" alt="No Software Patents!" /></a></li>  </ul> </div><!--/UdmComment--> <br /></div></div></div>	<script type="text/javascript" src="/common/js/elqNow/elqCfg.js" ></script>	<script type="text/javascript" src="/common/js/elqNow/elqImg.js" ></script>	</body></html>