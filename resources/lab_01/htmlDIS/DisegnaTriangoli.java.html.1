<!--
This file was generated by Web C Plus Plus software v0.7.9
Webcpp Copyright (C)2001, (C)2002 Jeffrey Bakker under the GNU GPL
Get webcpp at http://webcpp.sf.net
-->

<html>
<head>
<title>DisegnaTriangoli.java</title>
<style type="text/css">

/** Webcpp v0.7.0+ compatible StyleSheet http://webcpp.sf.net **/
/** Theme: typical **/

body
{
background-color: #ffffff
}

a:link    {color:#ff0000}
a:visited {color:#666666}
a:active  {color:#0000ff}
a:hover   {color:#00b800}

pre
{
color: #000000
}

font
{
font-size:100%
}

font.preproc
{
color: #00b800
}

font.numbers
{
color: #a900a9
}

font.strings
{
color: #ff0000
}

font.keyword
{
color: #0000ff;
font-weight: bold
}

font.comment
{
color: #666666;
font-style: italic
}

</style>
</head>
<body>
<pre>

<font CLASS=keyword>import</font> java.awt.*;
<font CLASS=keyword>import</font> java.awt.geom.*;
<font CLASS=keyword>import</font> java.applet.*;
<font CLASS=keyword>import</font> javax.swing.*;


<font CLASS=keyword>public</font> <font CLASS=keyword>class</font> DisegnaTriangoli <font CLASS=keyword>extends</font> Applet {
	<font CLASS=keyword>private</font> Rectangle2D.Double cornice;	
	<font CLASS=keyword>private</font> <font CLASS=keyword>double</font> x1, y1, x2, y2;
	<font CLASS=keyword>private</font> <font CLASS=keyword>double</font> xmin,xmax, ymin, ymax;
	<font CLASS=keyword>private</font> Triangolo triangolo;
	
	<font CLASS=keyword>public</font> <font CLASS=keyword>void</font> init() {
		
		<font CLASS=comment>//inizializzazione delle coordinate del triangolo		</font>
		<font CLASS=keyword>double</font> ascissa1,ascissa2,ascissa3, ordinata1,ordinata2,ordinata3;
		JOptionPane.showMessageDialog(<font CLASS=keyword>null</font>,<font CLASS=strings>"Inserire le coordinate dei vertici del triangolo:"</font>);
		ascissa1=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=keyword>null</font>,<font CLASS=strings>"ascissa primo punto"</font>));
		ordinata1=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=keyword>null</font>,<font CLASS=strings>"ordinata primo punto"</font>));
		ascissa2=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=keyword>null</font>,<font CLASS=strings>"ascissa secondo punto"</font>));
		ordinata2=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=keyword>null</font>,<font CLASS=strings>"ordinata secondo punto"</font>));
		ascissa3=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=keyword>null</font>,<font CLASS=strings>"ascissa terzo punto"</font>));
		ordinata3=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=keyword>null</font>,<font CLASS=strings>"ordinata terzo punto"</font>));
		triangolo=<font CLASS=keyword>new</font> Triangolo(ascissa1,ascissa2,ascissa3,ordinata1,ordinata2,ordinata3);
		
		<font CLASS=comment>//inizializzazione della finestra di utente</font>
		JOptionPane.showMessageDialog(<font CLASS=keyword>null</font>,<font CLASS=strings>"Inserire le coordinate della finestra utente:"</font>);
		x1=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=strings>"x1?"</font>));
		x2=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=strings>"x2?"</font>));
		<font CLASS=keyword>if</font> (x1&gt;=x2){
			System.out.println(<font CLASS=strings>"Intervallo ascisse finestra utente non corretto: x1="</font>+x1+<font CLASS=strings>" x2="</font>+x2);
			System.exit(<font CLASS=numbers>0</font>);
			}
		y1=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=strings>"y1?"</font>));
		y2=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=strings>"y2?"</font>));
		<font CLASS=keyword>if</font> (y1&gt;=y2){
			System.out.println(<font CLASS=strings>"Intervallo ascisse finestra utente non corretto: y1="</font>+y1+<font CLASS=strings>" y2="</font>+y2);
			System.exit(<font CLASS=numbers>0</font>);
			}		
		cornice = <font CLASS=keyword>new</font> Rectangle2D.Double(x1, y1, x2-x1, y2-y1);
		
		<font CLASS=comment>//inizializzazione del viewport</font>
		JOptionPane.showMessageDialog(<font CLASS=keyword>null</font>,<font CLASS=strings>"Inserire le percentuali della finestra di dispositivo:"</font>);
		xmin=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=strings>"%xmin?"</font>));
		<font CLASS=keyword>if</font> (xmin&lt;<font CLASS=numbers>0.0</font>){
			System.out.println(<font CLASS=strings>"Parametro finestra di dispositivo non corretto: xmin="</font>+xmin);
			System.exit(<font CLASS=numbers>0</font>);
			}
		xmax=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=strings>"%xmax?"</font>));
		<font CLASS=keyword>if</font> (xmax&gt;<font CLASS=numbers>1.0</font>){
			System.out.println(<font CLASS=strings>"Parametro finestra di dispositivo non corretto: xmax="</font>+xmax);
			System.exit(<font CLASS=numbers>0</font>);
			}
		<font CLASS=keyword>if</font> (xmin&gt;=xmax){
			System.out.println(<font CLASS=strings>"Intervallo ascisse finestra dispositivo non corretto: xmin="</font>+xmin+<font CLASS=strings>" xmax="</font>+xmax);
			System.exit(<font CLASS=numbers>0</font>);
			}
		ymin=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=strings>"%ymin?"</font>));
		<font CLASS=keyword>if</font> (ymin&lt;<font CLASS=numbers>0.0</font>){
			System.out.println(<font CLASS=strings>"Parametro finestra di dispositivo non corretto: ymin="</font>+ymin);
			System.exit(<font CLASS=numbers>0</font>);
			}
		ymax=Double.parseDouble(JOptionPane.showInputDialog(<font CLASS=strings>"%ymax?"</font>));
		<font CLASS=keyword>if</font> (ymax&gt;<font CLASS=numbers>1.0</font>){
			System.out.println(<font CLASS=strings>"Parametro finestra di dispositivo non corretto: ymax="</font>+ymax);
			System.exit(<font CLASS=numbers>0</font>);
			}
		<font CLASS=keyword>if</font> (ymin&gt;=ymax){
			System.out.println(<font CLASS=strings>"Intervallo ascisse finestra dispositivo non corretto: ymin="</font>+ymin+<font CLASS=strings>" ymax="</font>+xmax);
			System.exit(<font CLASS=numbers>0</font>);
			}
			
		<font CLASS=comment>// stampa delle caratteristiche del triangolo</font>
		<font CLASS=keyword>if</font> (triangolo.isRetto())
			System.out.print(<font CLASS=strings>"\nIl triangolo e' retto"</font>);
		<font CLASS=keyword>else</font> <font CLASS=keyword>if</font> (triangolo.isOttusangolo())
				System.out.print(<font CLASS=strings>"\nIl triangolo e' ottusangolo"</font>);
			 <font CLASS=keyword>else</font>
			 	System.out.print(<font CLASS=strings>"\nIl triangolo e' acutangolo"</font>);
		System.out.print(<font CLASS=strings>"\nL'area del triangolo e'\t\t"</font>);
		System.out.println(triangolo.area());
		System.out.print(<font CLASS=strings>"Il perimetro del triangolo e'\t"</font>);
		System.out.println(triangolo.perimetro());		
		System.out.print(<font CLASS=strings>"L'ascissa del baricentro e'\t"</font>);
		System.out.println(triangolo.baricentro().getX());
		System.out.print(<font CLASS=strings>"L'ordinata del baricentro e'\t"</font>);
		System.out.println(triangolo.baricentro().getY());		
	}

	<font CLASS=keyword>public</font> <font CLASS=keyword>void</font> paint(Graphics g) {
		Graphics2D g2 = (Graphics2D)g;
		
		<font CLASS=comment>// NB:Le trasformazioni di coordinate inserite nel contesto grafico</font>
		<font CLASS=comment>// sono eseguite in ordine inverso rispetto alla sequenza delle chiamate dei </font>
		<font CLASS=comment>// metodi scale e translate</font>
		
		<font CLASS=comment>// traslazione dell'origine delle coordinate di pixel</font>
		<font CLASS=comment>// nel vertice superiore sinistro del viewport</font>
		<font CLASS=keyword>double</font> W=getWidth()-<font CLASS=numbers>1</font>;
		<font CLASS=keyword>double</font> H=getHeight()-<font CLASS=numbers>1</font>;
		g2.translate(xmin*W, ymin*H);
		
		<font CLASS=comment>// scalamento delle coordinate di utente in coordinate di pixel</font>
		<font CLASS=comment>// con ribaltamento dell'asse verticale</font>
		<font CLASS=keyword>double</font> xscale = W*(xmax-xmin)/(x2 - x1), yscale = H*(ymax-ymin)/(y1 - y2);
		g2.scale(xscale, yscale);
		
		<font CLASS=comment>// traslazione del vertice superiore sinistro della finestra d'utente </font>
		<font CLASS=comment>// nell'origine delle coordinate di utente</font>
		g2.translate(-x1, -y2);
		
		<font CLASS=comment>// evita deformazioni delle linee</font>
		g2.setStroke(<font CLASS=keyword>new</font> BasicStroke(<font CLASS=numbers>0</font>));
		
		<font CLASS=comment>// taglia porzioni figure fouri dalla finestra utente</font>
		g2.setClip(cornice);
		
		<font CLASS=comment>// disegno del triangolo nel viewport</font>
		triangolo.disegna(g2);
		g2.draw(cornice);
		
		
	}
}



</pre>



</body>
</html>
