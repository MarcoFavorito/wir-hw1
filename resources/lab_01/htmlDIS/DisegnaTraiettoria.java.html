<!--
This file was generated by Web C Plus Plus software v0.7.9
Webcpp Copyright (C)2001, (C)2002 Jeffrey Bakker under the GNU GPL
Get webcpp at http://webcpp.sf.net
-->

<html>
<head>
<title>DisegnaTraiettoria.java</title>
<style type="text/css">

/** Webcpp v0.7.0+ compatible StyleSheet http://webcpp.sf.net **/
/** Theme: typical **/

body
{
background-color: #ffffff
}

a:link    {color:#ff0000}
a:visited {color:#666666}
a:active  {color:#0000ff}
a:hover   {color:#00b800}

pre
{
color: #000000
}

font
{
font-size:100%
}

font.preproc
{
color: #00b800
}

font.numbers
{
color: #a900a9
}

font.strings
{
color: #ff0000
}

font.keyword
{
color: #0000ff;
font-weight: bold
}

font.comment
{
color: #666666;
font-style: italic
}

</style>
</head>
<body>
<pre>

<font CLASS=keyword>import</font> java.awt.*;
<font CLASS=keyword>import</font> java.awt.geom.*;
<font CLASS=keyword>import</font> java.applet.*;
<font CLASS=keyword>import</font> javax.swing.*;


<font CLASS=keyword>public</font> <font CLASS=keyword>class</font> DisegnaTraiettoria <font CLASS=keyword>extends</font> Applet {
	<font CLASS=keyword>private</font> Rectangle2D.Double cornice;	
	<font CLASS=keyword>private</font> <font CLASS=keyword>final</font> <font CLASS=keyword>double</font> X01, Y01, X02, Y02, X03, Y03;<font CLASS=comment>// coordinate primo triangolo da disegnare</font>
	<font CLASS=keyword>private</font> <font CLASS=keyword>final</font> <font CLASS=keyword>double</font> X1, Y1, X2, Y2;<font CLASS=comment>// coordinate finestra utente</font>
	<font CLASS=keyword>private</font> <font CLASS=keyword>final</font> <font CLASS=keyword>double</font> XMIN,XMAX, YMIN, YMAX; <font CLASS=comment>// % coordinate viewport</font>
	<font CLASS=keyword>private</font> Triangolo triangolo;
	<font CLASS=keyword>private</font> String traiettoria;
	
	<font CLASS=keyword>public</font> DisegnaTraiettoria() {
		
		<font CLASS=comment>//inizializzazione delle coordinate del primo triangolo da disegnare		</font>
		X01=<font CLASS=numbers>5</font>; X02=<font CLASS=numbers>15</font>; X03=<font CLASS=numbers>20</font>;
		Y01=<font CLASS=numbers>5</font>; Y02=<font CLASS=numbers>30</font>; Y03=<font CLASS=numbers>5</font>;
		triangolo=<font CLASS=keyword>new</font> Triangolo();	
		
		
		<font CLASS=comment>//inizializzazione della finestra di utente</font>
		X1=<font CLASS=numbers>0</font>; X2=<font CLASS=numbers>100</font>; 
		Y1=<font CLASS=numbers>0</font>; Y2=<font CLASS=numbers>1000</font>; 
		cornice = <font CLASS=keyword>new</font> Rectangle2D.Double(X1, Y1, X2-X1, Y2-Y1);
		
		<font CLASS=comment>//inizializzazione del viewport</font>
		XMIN=<font CLASS=numbers>0.1</font>; YMIN=<font CLASS=numbers>0.1</font>; XMAX=<font CLASS=numbers>0.9</font>; YMAX=<font CLASS=numbers>0.9</font>;
		
		<font CLASS=comment>//scelta traiettoria con controllo dell'input</font>
		
		<font CLASS=comment>//codice da implementare</font>
		
		}

	<font CLASS=keyword>public</font> <font CLASS=keyword>void</font> paint(Graphics g) {
		Graphics2D g2 = (Graphics2D)g;
		
		<font CLASS=comment>// NB:Le trasformazioni di coordinate inserite nel contesto grafico</font>
		<font CLASS=comment>// sono eseguite in ordine inverso rispetto alla sequenza delle chiamate dei </font>
		<font CLASS=comment>// metodi scale e translate</font>
		
		<font CLASS=comment>// traslazione dell'origine delle coordinate di pixel</font>
		<font CLASS=comment>// nel vertice superiore sinistro del viewport</font>
		<font CLASS=keyword>double</font> W=getWidth()-<font CLASS=numbers>1</font>;
		<font CLASS=keyword>double</font> H=getHeight()-<font CLASS=numbers>1</font>;
		g2.translate(XMIN*W, YMIN*H);
		
		<font CLASS=comment>// scalamento delle coordinate di utente in coordinate di pixel</font>
		<font CLASS=comment>// con ribaltamento dell'asse verticale</font>
		<font CLASS=keyword>double</font> xscale = W*(XMAX-XMIN)/(X2 - X1), yscale = H*(YMAX-YMIN)/(Y1 - Y2);
		g2.scale(xscale, yscale);
		
		<font CLASS=comment>// traslazione del vertice superiore sinistro della finestra d'utente </font>
		<font CLASS=comment>// nell'origine delle coordinate di utente</font>
		g2.translate(-X1, -Y2);
		
		<font CLASS=comment>// evita deformazioni delle linee</font>
		g2.setStroke(<font CLASS=keyword>new</font> BasicStroke(<font CLASS=numbers>0</font>));
		
		<font CLASS=comment>// taglia porzioni figure fouri dalla finestra utente</font>
		g2.setClip(cornice);
		
		<font CLASS=comment>// disegno dei triangoli nel viewport</font>
		<font CLASS=keyword>double</font>  t=<font CLASS=numbers>0</font>, dt=<font CLASS=numbers>1</font>;
		Traiettoria trajectory=<font CLASS=keyword>new</font> Traiettoria();
		Point2D.Double  point=trajectory.calcolaPunto(t,<font CLASS=strings>"parabola"</font>);
		<font CLASS=keyword>double</font>  x=point.getX(), dx, new_x; 
		<font CLASS=keyword>double</font>  y=point.getY(), dy, new_y;
		triangolo.setCoordinates(X01,X02,X03,Y01,Y02,Y03);
		<font CLASS=keyword>double</font> bx=triangolo.baricentro().getX();
		<font CLASS=keyword>double</font> by=triangolo.baricentro().getY();
		triangolo.translate(x-bx,y-by);
			
		<font CLASS=keyword>for</font> (<font CLASS=keyword>int</font> i=<font CLASS=numbers>0</font>; i&lt;=<font CLASS=numbers>200</font>; i++) {
			triangolo.disegna(g2);
			<font CLASS=comment>// completare il ciclo di disegno									</font>
		}
		g2.draw(cornice);
				
	}
}



</pre>



</body>
</html>
