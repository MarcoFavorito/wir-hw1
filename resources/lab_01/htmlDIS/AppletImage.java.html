<!--
This file was generated by Web C Plus Plus software v0.7.9
Webcpp Copyright (C)2001, (C)2002 Jeffrey Bakker under the GNU GPL
Get webcpp at http://webcpp.sf.net
-->

<html>
<head>
<title>AppletImage.java</title>
<style type="text/css">

/** Webcpp v0.7.0+ compatible StyleSheet http://webcpp.sf.net **/
/** Theme: typical **/

body
{
background-color: #ffffff
}

a:link    {color:#ff0000}
a:visited {color:#666666}
a:active  {color:#0000ff}
a:hover   {color:#00b800}

pre
{
color: #000000
}

font
{
font-size:100%
}

font.preproc
{
color: #00b800
}

font.numbers
{
color: #a900a9
}

font.strings
{
color: #ff0000
}

font.keyword
{
color: #0000ff;
font-weight: bold
}

font.comment
{
color: #666666;
font-style: italic
}

</style>
</head>
<body>
<pre>

<font CLASS=keyword>import</font> java.awt.*;
<font CLASS=keyword>import</font> java.applet.*;
<font CLASS=keyword>import</font> java.awt.event.*;
<font CLASS=keyword>import</font> java.awt.event.MouseEvent;
<font CLASS=keyword>import</font> java.awt.event.MouseListener;
<font CLASS=keyword>import</font> javax.swing.*;

<font CLASS=keyword>public</font> <font CLASS=keyword>class</font> AppletImage <font CLASS=keyword>extends</font> Applet  {
	
	<font CLASS=keyword>private</font> VectorImage vect_img;
	<font CLASS=keyword>private</font> Choice imageChoice; 
	<font CLASS=keyword>private</font> Button clearButton;
	<font CLASS=keyword>private</font> <font CLASS=keyword>int</font> currentImageIndex;
	<font CLASS=keyword>public</font> <font CLASS=keyword>final</font> <font CLASS=keyword>int</font> IMAGE_WIDTH=<font CLASS=numbers>100</font>;
	<font CLASS=keyword>public</font> <font CLASS=keyword>final</font> <font CLASS=keyword>int</font> IMAGE_HEIGHT=<font CLASS=numbers>70</font>; 		
				
	<font CLASS=keyword>public</font> <font CLASS=keyword>void</font> init() {
		
		vect_img=<font CLASS=keyword>new</font> VectorImage();
		currentImageIndex=<font CLASS=numbers>0</font>;
		
		addMouseListener(<font CLASS=keyword>new</font> MouseInterceptor());	
      	setLayout(<font CLASS=keyword>new</font> BorderLayout());
      	      	
      	imageChoice = <font CLASS=keyword>new</font> Choice();
      	imageChoice.add(<font CLASS=strings>"ALBANIA"</font>);
 		imageChoice.add(<font CLASS=strings>"ANDORRA"</font>);
 		imageChoice.add(<font CLASS=strings>"AUSTRIA"</font>);
 		imageChoice.add(<font CLASS=strings>"BELGIO"</font>);
 		imageChoice.add(<font CLASS=strings>"BOSNIA"</font>);
 		imageChoice.add(<font CLASS=strings>"BULGARIA"</font>);
 		imageChoice.add(<font CLASS=strings>"DANIMARCA"</font>);
 		imageChoice.add(<font CLASS=strings>"ESTONIA"</font>);
 		imageChoice.add(<font CLASS=strings>"ITALIA"</font>);
 		imageChoice.add(<font CLASS=strings>"LITUANIA"</font>);
 		imageChoice.add(<font CLASS=strings>"MALTA"</font>);
 		imageChoice.addItemListener(<font CLASS=keyword>new</font> ChoiceListener());
 		
 		clearButton=<font CLASS=keyword>new</font> Button(<font CLASS=strings>"Pulisci"</font>);
 		clearButton.addActionListener(<font CLASS=keyword>new</font> ClearListener());
 		
 		Panel menuPanel=<font CLASS=keyword>new</font> Panel();
 		menuPanel.add(imageChoice);
 		menuPanel.add(clearButton);
 		
 		add(menuPanel, <font CLASS=strings>"South"</font>);
 		
 		 		
 	}

	<font CLASS=keyword>public</font> <font CLASS=keyword>void</font> paint(Graphics g) {
		
		<font CLASS=keyword>for</font> (<font CLASS=keyword>int</font> i=<font CLASS=numbers>0</font>; i&lt;vect_img.getVectorLength();i++) {
			Image curr_vect_img=vect_img.getImage(i);
			<font CLASS=keyword>int</font> coordX=vect_img.getImageXLocation(i);
			<font CLASS=keyword>int</font> coordY=vect_img.getImageYLocation(i);
			g.drawImage(curr_vect_img,coordX,coordY,IMAGE_WIDTH, IMAGE_HEIGHT, <font CLASS=keyword>this</font>);
		}				
	}
	
	<font CLASS=keyword>private</font> <font CLASS=keyword>class</font> MouseInterceptor <font CLASS=keyword>implements</font> MouseListener {
		<font CLASS=keyword>public</font> <font CLASS=keyword>void</font> mouseClicked(MouseEvent event) {
			<font CLASS=keyword>if</font> (vect_img.getVectorLength()&gt;<font CLASS=numbers>0</font>) {
			  	<font CLASS=keyword>int</font> coordX=event.getX();
			  	<font CLASS=keyword>int</font> coordY=event.getY();
			  	<font CLASS=keyword>boolean</font> found=<font CLASS=keyword>false</font>;
			  	<font CLASS=keyword>for</font> (<font CLASS=keyword>int</font> i=<font CLASS=numbers>0</font>;i&lt;vect_img.getVectorLength();i++) {
			  		<font CLASS=keyword>int</font> xmin=vect_img.getImageXLocation(i);
			  		<font CLASS=keyword>int</font> xmax=xmin+IMAGE_WIDTH;
			  		<font CLASS=keyword>int</font> ymin=vect_img.getImageYLocation(i);
			  		<font CLASS=keyword>int</font> ymax=ymin+IMAGE_HEIGHT;
			  		<font CLASS=keyword>if</font> ((coordX&gt;=xmin)&&(coordX&lt;=xmax)&&(coordY&gt;=ymin)&&(coordY&lt;=ymax)) {
			  			JOptionPane.showMessageDialog(<font CLASS=keyword>null</font>,vect_img.getImageName(i));
			  			currentImageIndex=i;
			  			found=<font CLASS=keyword>true</font>;
			  		}
			  	}
			  	<font CLASS=keyword>if</font> (!found)
			  		vect_img.setImageLocation(coordX-IMAGE_WIDTH/<font CLASS=numbers>2</font>,coordY-IMAGE_HEIGHT/<font CLASS=numbers>2</font>,currentImageIndex);
			  	repaint();
			}
   		}
  		<font CLASS=keyword>public</font> <font CLASS=keyword>void</font> mouseEntered(MouseEvent event) { }
		<font CLASS=keyword>public</font> <font CLASS=keyword>void</font> mouseExited(MouseEvent event) { }
   		<font CLASS=keyword>public</font> <font CLASS=keyword>void</font> mousePressed(MouseEvent event) { }
   		<font CLASS=keyword>public</font> <font CLASS=keyword>void</font> mouseReleased(MouseEvent event) { }
	}
	
	<font CLASS=keyword>private</font> <font CLASS=keyword>class</font> ChoiceListener <font CLASS=keyword>implements</font> ItemListener {
		<font CLASS=keyword>public</font> <font CLASS=keyword>void</font> itemStateChanged(ItemEvent event) {
			  String currentImage=imageChoice.getSelectedItem();
			  vect_img.addImage(getImage(getCodeBase(),<font CLASS=strings>"images/"</font>+currentImage+<font CLASS=strings>".JPG"</font>), currentImage);
			  <font CLASS=keyword>int</font> coordX=(getWidth()-IMAGE_WIDTH)/<font CLASS=numbers>2</font>;
			  <font CLASS=keyword>int</font> coordY=(getHeight()-IMAGE_HEIGHT)/<font CLASS=numbers>2</font>;
			  currentImageIndex=vect_img.getVectorLength()-<font CLASS=numbers>1</font>;
			  vect_img.setImageLocation(coordX,coordY,currentImageIndex);
			  repaint();
   		}
	}
	
	<font CLASS=keyword>private</font> <font CLASS=keyword>class</font> ClearListener <font CLASS=keyword>implements</font> ActionListener {
		<font CLASS=keyword>public</font> <font CLASS=keyword>void</font> actionPerformed(ActionEvent event) {
			  vect_img.clearVector();
			  repaint();
   		}
	}	
	
}



</pre>



</body>
</html>
